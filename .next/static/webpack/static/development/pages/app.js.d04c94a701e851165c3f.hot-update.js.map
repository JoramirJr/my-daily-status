{"version":3,"file":"static/webpack/static/development/pages/app.js.d04c94a701e851165c3f.hot-update.js","sources":["webpack:///./pages/app.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport auth0 from '../lib/auth0'\nimport router, { Router } from 'next/router'\nimport { db } from '../lib/db'\nconst App = props => {\n    useEffect(() => {\n        if(!props.isAuth){\n            router.push('/')\n          \n        }else if (props.forceCreate){\n            router.push('/create-status')\n        }\n        if(!props.isAuth || props.forceCreate){\n           \n            return null\n        }\n    })\n    return (\n        <div>\n            <h1>App</h1>\n            <pre>{JSON.stringify(props, null, 2)}</pre>\n        </div> \n    )\n}\n\nexport default App\n\nexport async function getServerSideProps({ req, res }){\n    const session = await auth0.getSession(req)\n    if(session){\n\n        const todaysCheckin = await db\n        .collection('markers')\n        .doc('2020-04-10')\n        .collection('checks')\n        .doc(session.user.sub)\n        .get()\n\n    const todaysData = todaysCheckin.data()\n    let forceCreate = true\n    if(todaysData){\n        //pode ver os outros checkins\n        forceCreate = false\n    }\n\n        return {\n            props: {\n                isAuth: true,\n                user: session.user,\n                forceCreate\n            }\n        }\n    }\n\n    return {\n        props: {\n            isAuth: false,\n            user: {}\n        \n        }\n\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;;AACA;;;;A","sourceRoot":""}